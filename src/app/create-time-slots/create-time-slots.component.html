<button
  (click)="setOpen()"
  class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
>
  Create timeslot
</button>
<div
  class="relative z-10"
  aria-labelledby="modal-title"
  role="dialog"
  aria-modal="true"
  *ngIf="open"
>
  <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

  <div class="fixed z-10 inset-0 overflow-y-auto">
    <div
      class="flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0"
    >
      <div
        class="relative bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full"
      >
        <form [formGroup]="timeSlotForm" (ngSubmit)="submitForm()">
          <div class="p-5">
            <h3
              class="text-lg leading-6 font-medium text-gray-900 mb-10"
              id="modal-title"
            >
              Create time slot
            </h3>
            <div class="flex mb-5">
              <div class="form-group flex flex-col w-full mr-2">
                <label>Starting time</label>
                <input
                  type="time"
                  class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  formControlName="startTime"
                />
              </div>
              <div class="form-group flex flex-col w-full ml-2">
                <label>Ending time</label>
                <input
                  type="time"
                  class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  formControlName="endTime"
                />
              </div>
            </div>
            <div class="form-group flex flex-col mb-5">
              <label>Date</label>
              <input
                type="date"
                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                formControlName="date"
              />
            </div>
            <div class="form-group flex flex-row mb-5">
              <input type="checkbox" value="true" formControlName="recurrent" />
              <h2>Make it recurrent</h2>
            </div>
            <div class="form-group flex flex-col" *ngIf="checkIsTrue()">
              <div class="form-group mb-5">
                <label>Ending date</label>
                <input
                  type="date"
                  class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                  formControlName="endDate"
                />
              </div>
              <div class="flex flex-row flex-wrap">
                <div class="flex flex-row justify-between w-full">
                  <div class="form-group flex flex-row">
                    <input type="checkbox" formControlName="monday" />
                    <h2>Monday</h2>
                  </div>
                  <div class="form-group flex flex-row">
                    <input type="checkbox" formControlName="tuesday" />
                    <h2>Tuesday</h2>
                  </div>
                  <div class="form-group flex flex-row">
                    <input type="checkbox" formControlName="wednesday" />
                    <h2>Wednesday</h2>
                  </div>
                  <div class="form-group flex flex-row">
                    <input type="checkbox" formControlName="thursday" />
                    <h2>Thursday</h2>
                  </div>
                </div>
                <div class="flex flex-row justify-between w-full">
                  <div class="form-group flex flex-row">
                    <input type="checkbox" formControlName="friday" />
                    <h2>Friday</h2>
                  </div>
                  <div class="form-group flex flex-row">
                    <input type="checkbox" formControlName="saturday" />
                    <h2>Saturday</h2>
                  </div>
                  <div class="form-group flex flex-row">
                    <input type="checkbox" formControlName="sunday" />
                    <h2>Sunday</h2>
                  </div>
                </div>
              </div>
            </div>
            <div class="mt-3 mb-3" *ngIf="getMessage().visible">
              <span
                [ngClass]="
                  getMessage().type == 'error'
                    ? 'text-red-500'
                    : 'text-green-500'
                "
              >
                {{ getMessage().message }}</span
              >
            </div>
          </div>

          <div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
            <button
              (click)="setClose()"
              type="button"
              class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:ml-3 sm:w-auto sm:text-sm"
            >
              Create timeslot
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
